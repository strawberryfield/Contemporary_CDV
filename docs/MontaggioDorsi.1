.\" Automatically generated by Pandoc 2.13
.\"
.TH "MONTAGGIODORSI" "1" "April 2023" "" ""
.hy
.SH NAME
.PP
MontaggioDorsi - Assembling six images over a 20x27 cm paper
.SH SYNOPSIS
.PP
\f[B]MontaggioDorsi\f[R] [options]* inputfile+
.SH DESCRIPTION
.PP
This program gathers six images on a 20x27cm surface
.PD 0
.P
.PD
that I print on a cardboard coated only on the side of the image.
.SH OPTIONS
.PP
\f[B]\[en]paper=VALUE\f[R] :
.PD 0
.P
.PD
Output paper size:
.PD 0
.P
.PD
Large (default) 20x27cm
.PD 0
.P
.PD
Medium 15x20cm
.PD 0
.P
.PD
A4 210x297mm
.PP
\f[B]\[en]gravity=VALUE\f[R] :
.PD 0
.P
.PD
canvas gravity, valid values are:
.PD 0
.P
.PD
Northwest
.PD 0
.P
.PD
North
.PD 0
.P
.PD
Northeast
.PD 0
.P
.PD
West
.PD 0
.P
.PD
Center
.PD 0
.P
.PD
East
.PD 0
.P
.PD
Southwest
.PD 0
.P
.PD
South
.PD 0
.P
.PD
Southeast
.PP
\f[B]\[en]patterns\f[R] :
.PD 0
.P
.PD
show built-in patterns list
.PP
\f[B]\[en]fillcolor=VALUE\f[R] :
.PD 0
.P
.PD
set the color used to fill the images
.PD 0
.P
.PD
(default #FFFFFF)
.PP
\f[B]\[en]bordercolor=VALUE\f[R] :
.PD 0
.P
.PD
set the color used to border the images
.PD 0
.P
.PD
(default #000000)
.PP
\f[B]\[en]dpi=VALUE\f[R] :
.PD 0
.P
.PD
set output resolution (default 300)
.PP
\f[B]\[en]json=VALUE\f[R] :
.PD 0
.P
.PD
parameters in json format,
.PD 0
.P
.PD
use \[en]helpjson for sample template
.PD 0
.P
.PD
Text can be stored in a file instead of a string
.PD 0
.P
.PD
The file must be referenced as `\[at]filename'
.PP
\f[B]\[en]script=VALUE\f[R] :
.PD 0
.P
.PD
c# script for custom processing,
.PD 0
.P
.PD
use \[en]helpscript for sample template
.PD 0
.P
.PD
Text can be stored in a file instead of a string
.PD 0
.P
.PD
The file must be referenced as `\[at]filename'
.PP
\f[B]-o, \[en]output=VALUE\f[R] :
.PD 0
.P
.PD
set output dir/filename
.PP
\f[B]\[en]extension=VALUE\f[R] :
.PD 0
.P
.PD
file extension for output file (default `jpg')
.PP
\f[B]\[en]tag=VALUE\f[R] :
.PD 0
.P
.PD
extra info for user scripts
.PD 0
.P
.PD
Text can be stored in a file instead of a string
.PD 0
.P
.PD
The file must be referenced as `\[at]filename'
.PP
\f[B]\[en]nobanner\f[R] :
.PD 0
.P
.PD
suppress the banner
.PP
\f[B]-h, \[en]help\f[R] :
.PD 0
.P
.PD
show this message and exit
.PP
\f[B]\[en]helpjson\f[R] :
.PD 0
.P
.PD
show json parameters template
.PP
\f[B]\[en]helpscript\f[R] :
.PD 0
.P
.PD
show script template
.PP
\f[B]\[en]man\f[R] :
.PD 0
.P
.PD
show the man page source and exit
.PP
\f[B]\[en]colors\f[R] :
.PD 0
.P
.PD
list available colors by name
.PP
\f[B]\[en]license\f[R] :
.PD 0
.P
.PD
show program license (AGPL 3.0)
.SS COLORS
.PP
Colors can be written in any of these formats:
.PD 0
.P
.PD
#rgb
.PD 0
.P
.PD
#rrggbb
.PD 0
.P
.PD
#rrggbbaa
.PD 0
.P
.PD
#rrrrggggbbbb
.PD 0
.P
.PD
#rrrrggggbbbbaaaa
.PD 0
.P
.PD
colorname (use MontaggioDorsi \[en]colors to see all available colors)
.SS JSON
.PP
Parameters can also be passed with a json formatted string
.PD 0
.P
.PD
using the following template:
.IP
.nf
\f[C]
{
  \[dq]Paper\[dq]: null,
  \[dq]CanvasGravity\[dq]: 0,
  \[dq]FillColor\[dq]: \[dq]#FFFFFF\[dq],
  \[dq]BorderColor\[dq]: \[dq]#000000\[dq],
  \[dq]Dpi\[dq]: 300,
  \[dq]OutputName\[dq]: \[dq]\[dq],
  \[dq]Extension\[dq]: \[dq]jpg\[dq],
  \[dq]Script\[dq]: null,
  \[dq]Tag\[dq]: null,
  \[dq]FilesList\[dq]: []
}
\f[R]
.fi
.SS ENVIRONMENT VARIABLES
.PP
The program can read values from these variables:
.PP
\f[B]CDV_OUTPATH\f[R] :
.PD 0
.P
.PD
Base path for output files
.PP
\f[B]CDV_DPI\f[R] :
.PD 0
.P
.PD
Resolution for output files
.PP
\f[B]CDV_FILL\f[R] :
.PD 0
.P
.PD
Color used to fill images
.PP
\f[B]CDV_BORDER\f[R] :
.PD 0
.P
.PD
Border color
.SH SCRIPTING
.PP
You can add custom c# code, compiled at runtime, with the \[en]script
parameter.
You can call a property \f[I]engine\f[R] that exposes all the parameters
passed to the main program.
.PP
The following using are declared:
.PD 0
.P
.PD
\[ti]\[ti]\[ti]
.PP
using Casasoft.CCDV; using Casasoft.CCDV.Engines; using
Casasoft.CCDV.JSON; using ImageMagick; using System; using
System.Collections.Generic; using System.IO; using System.Linq;
.IP
.nf
\f[C]
These are the signatures of the scriptable methods:
\f[R]
.fi
.PP
// Script template for MontaggioDorsi
///
/// Custom class initialization ///
.PP
public void Init() { }
///
/// Image for final output ///
.PP
/// public MagickImage OutputImage() => null;
///
/// Preprocesses the loaded image ///
.PP
/// The loaded image /// The Processed image public MagickImage
ProcessOnLoad(MagickImage image) => image; \[ti]\[ti]\[ti]
.SH BUILT-IN IMAGES AND RENDERS
.PP
Instead of a filename you can use the following built-in templates:
.PP
\f[B]xc:color\f[R] :
.PD 0
.P
.PD
Fill the image with the specified color
.PP
\f[B]gradient:color1-color2\f[R] :
.PD 0
.P
.PD
Fill the image with linear gradient from color1 to color2, if colors are
omitted is white to black
.PP
\f[B]radial-gradient:color1-color2\f[R] :
.PD 0
.P
.PD
Radial gradient as above
.PP
\f[B]plasma:color1-color2\f[R] :
.PD 0
.P
.PD
Plasma gradient from color1 to color2, if colors are omitted is black to
black
.PP
\f[B]plasma:fractal\f[R] :
.PD 0
.P
.PD
Creates a random plasma
.PP
\f[B]label:text\f[R] :
.PD 0
.P
.PD
Render the plain text with no word-wrap
.PP
\f[B]caption:text\f[R] :
.PD 0
.P
.PD
Render the plain text with auto word-wrap
.PP
\f[B]pango:text\f[R] :
.PD 0
.P
.PD
Render the text with pango markup
.PP
\f[B]pattern:pattern_name\f[R] :
.PD 0
.P
.PD
Creates the image tiling built-in pattern use \[en]patterns to see the
patterns list
.PP
The parameters can be stored in a file instead of a string.
.PD 0
.P
.PD
The file must be referenced as `\[at]filename'
.SH COPYRIGHT
.PP
Casasoft Casasoft MontaggioDorsi is free software:
.PD 0
.P
.PD
you can redistribute it and/or modify it
.PD 0
.P
.PD
under the terms of the GNU Affero General Public License as published by
.PD 0
.P
.PD
the Free Software Foundation, either version 3 of the License, or
.PD 0
.P
.PD
(at your option) any later version.
.PP
You should have received a copy of the GNU AGPL v.3
.PD 0
.P
.PD
along with Casasoft Casasoft MontaggioDorsi.
.PD 0
.P
.PD
If not, see <http://www.gnu.org/licenses/>.
.SH DISCLAIMER
.PP
Casasoft Casasoft MontaggioDorsi is distributed in the hope that it will
be useful,
.PD 0
.P
.PD
but WITHOUT ANY WARRANTY; without even the implied warranty of
.PD 0
.P
.PD
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.PD 0
.P
.PD
See the GNU General Public License for more details.
.SH AUTHORS
Roberto Ceccarelli - Casasoft.
